# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ –¥–æ–º–∞—à–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è

## –ó–∞–≤–¥–∞–Ω–Ω—è 1: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é LRU-–∫–µ—à—É

### –ê–ª–≥–æ—Ä–∏—Ç–º LRU (Least Recently Used)

LRU-–∫–µ—à ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î –æ–±–º–µ–∂–µ–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —ñ –≤–∏–¥–∞–ª—è—î –Ω–∞–π–º–µ–Ω—à –Ω–µ—â–æ–¥–∞–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—ñ.

### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

#### –ö–ª–∞—Å LRUCache

```python
class LRUCache:
    def __init__(self, capacity: int):
        self.capacity = capacity
        self.cache: Dict[Tuple[int, int], int] = {}
        self.access_order = []  # –°–ø–∏—Å–æ–∫ –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ—Ä—è–¥–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```

**–û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏:**

1. **get(key)** ‚Äî O(n) —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å

   - –ü–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –∫–µ—à—É –∞–±–æ -1 (cache-miss)
   - –û–Ω–æ–≤–ª—é—î –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø—É (–ø–µ—Ä–µ–º—ñ—â—É—î –∫–ª—é—á –≤ –∫—ñ–Ω–µ—Ü—å —Å–ø–∏—Å–∫—É)

2. **put(key, value)** ‚Äî O(n) —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å

   - –î–æ–¥–∞—î –Ω–æ–≤—É –ø–∞—Ä—É –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è
   - –ü—Ä–∏ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—ñ –≤–∏–¥–∞–ª—è—î –Ω–∞–π–º–µ–Ω—à –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç (–ø–µ—Ä—à–∏–π —É —Å–ø–∏—Å–∫—É)

3. **invalidate_range(index)** ‚Äî O(n) —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
   - –í–∏–¥–∞–ª—è—î –≤—Å—ñ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å –≤–∫–∞–∑–∞–Ω–∏–π —ñ–Ω–¥–µ–∫—Å
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Å–∏–≤—É

### –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–∞—Å–∏–≤–æ–º

#### –ë–µ–∑ –∫–µ—à—É–≤–∞–Ω–Ω—è:

- `range_sum_no_cache(array, left, right)` ‚Äî –æ–±—á–∏—Å–ª—é—î —Å—É–º—É –Ω–∞–ø—Ä—è–º—É
- `update_no_cache(array, index, value)` ‚Äî –æ–Ω–æ–≤–ª—é—î –µ–ª–µ–º–µ–Ω—Ç

#### –ó –∫–µ—à—É–≤–∞–Ω–Ω—è–º:

- `range_sum_with_cache(array, left, right)` ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∫–µ—à –ø–µ—Ä–µ–¥ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º
- `update_with_cache(array, index, value)` ‚Äî –æ–Ω–æ–≤–ª—é—î —ñ —ñ–Ω–≤–∞–ª—ñ–¥—É—î –∫–µ—à

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

–§—É–Ω–∫—Ü—ñ—è `make_queries()` —Å—Ç–≤–æ—Ä—é—î —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –Ω–∞–±—ñ—Ä –∑–∞–ø–∏—Ç—ñ–≤:

- 97% Range-–∑–∞–ø–∏—Ç—ñ–≤ (–ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Å—É–º–∏)
- 3% Update-–∑–∞–ø–∏—Ç—ñ–≤ (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤)
- 95% Range-–∑–∞–ø–∏—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å "–≥–∞—Ä—è—á—ñ" –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ (–ø—É–ª –∑ 30 –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤)
- 5% Range-–∑–∞–ø–∏—Ç—ñ–≤ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–ø–∞–¥–∫–æ–≤—ñ

–¶–µ —ñ–º—ñ—Ç—É—î —Ä–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π, –¥–µ –¥–µ—è–∫—ñ –∑–∞–ø–∏—Ç–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —á–∞—Å—Ç–æ (–ø–æ–ø—É–ª—è—Ä–Ω—ñ –¥–∞–Ω—ñ), –∞ —ñ–Ω—à—ñ —Ä—ñ–¥–∫–æ.

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–¢–∏–ø–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:**

- –ë–µ–∑ –∫–µ—à—É: ~10 —Å–µ–∫—É–Ω–¥
- –ó LRU-–∫–µ—à–µ–º: ~3 —Å–µ–∫—É–Ω–¥–∏
- **–ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è: 3x**

**–ß–æ–º—É –∫–µ—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π?**

1. 95% –∑–∞–ø–∏—Ç—ñ–≤ –∑–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –¥–æ 30 –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤
2. –Ñ–º–Ω—ñ—Å—Ç—å –∫–µ—à—É (1000) –¥–æ—Å—Ç–∞—Ç–Ω—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤
3. –ü–æ–≤—Ç–æ—Ä–Ω—ñ –∑–∞–ø–∏—Ç–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å –º–∏—Ç—Ç—î–≤—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑ –∫–µ—à—É
4. Update-–∑–∞–ø–∏—Ç–∏ (3%) —Ä—ñ–¥–∫–æ —ñ–Ω–≤–∞–ª—ñ–¥—É—é—Ç—å –∫–µ—à

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è - –í–∏–∫–æ–Ω–∞–Ω–Ω—è

‚úÖ **–í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ:**

- `range_sum_no_cache` ‚Äî –æ–±—á–∏—Å–ª—é—î —Å—É–º—É –±–µ–∑ –∫–µ—à—É–≤–∞–Ω–Ω—è
- `update_no_cache` ‚Äî –æ–Ω–æ–≤–ª—é—î –µ–ª–µ–º–µ–Ω—Ç –±–µ–∑ –∫–µ—à—É–≤–∞–Ω–Ω—è
- `range_sum_with_cache` ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î LRU-–∫–µ—à –¥–ª—è –ø–æ—à—É–∫—É
- `update_with_cache` ‚Äî –æ–Ω–æ–≤–ª—é—î –∑ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é –∫–µ—à—É

‚úÖ **–í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —á–∞—Å—É:**

- –ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–º—ñ—Ä—é—î —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑ –∫–µ—à–µ–º —ñ –±–µ–∑
- –í–∏–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É –∑—Ä–æ–∑—É–º—ñ–ª–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**

- –í–∏–≤–µ–¥–µ–Ω–Ω—è –ø–æ–∫–∞–∑—É—î —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è
- –î–æ–¥–∞—Ç–∫–æ–≤–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∑–∞–æ—â–∞–¥–∂–µ–Ω–∏–π —á–∞—Å, –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

‚úÖ **–ö–æ–¥ –ø—Ä–∞—Ü—é—î –±–µ–∑ –ø–æ–º–∏–ª–æ–∫:**

- –¢–µ—Å—Ç–æ–≤–∞–Ω–æ –Ω–∞ –º–∞—Å–∏–≤—ñ 100,000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- –û–±—Ä–æ–±–∫–∞ 50,000 –∑–∞–ø–∏—Ç—ñ–≤
- –í—Å—ñ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ

---

## –ó–∞–≤–¥–∞–Ω–Ω—è 2: Rate Limiter –∑ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Sliding Window

### –ê–ª–≥–æ—Ä–∏—Ç–º Sliding Window

Sliding Window (–∫–æ–≤–∑–Ω–µ –≤—ñ–∫–Ω–æ) ‚Äî —Ü–µ –∞–ª–≥–æ—Ä–∏—Ç–º, —è–∫–∏–π –≤—ñ–¥—Å—Ç–µ–∂—É—î –ø–æ–¥—ñ—ó –≤ –¥–∏–Ω–∞–º—ñ—á–Ω–æ–º—É —á–∞—Å–æ–≤–æ–º—É —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ Fixed Window (—Ñ—ñ–∫—Å–æ–≤–∞–Ω–µ –≤—ñ–∫–Ω–æ), –≤—ñ–Ω –∑–∞–±–µ–∑–ø–µ—á—É—î –±—ñ–ª—å—à —Ç–æ—á–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤.

### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

#### –ö–ª–∞—Å SlidingWindowRateLimiter

```python
class SlidingWindowRateLimiter:
    def __init__(self, window_size: int = 10, max_requests: int = 1):
        self.window_size = window_size  # –†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        self.max_requests = max_requests  # –ú–∞–∫—Å–∏–º—É–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –≤—ñ–∫–Ω—ñ
        self.user_messages: Dict[str, deque] = {}  # –Ü—Å—Ç–æ—Ä—ñ—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö:**

- `collections.deque` ‚Äî –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è —á–µ—Ä–≥–∞ –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è
- –ó–±–µ—Ä—ñ–≥–∞—î —á–∞—Å–æ–≤—ñ –º—ñ—Ç–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### –ú–µ—Ç–æ–¥–∏ –∫–ª–∞—Å—É

#### 1. `_cleanup_window(user_id, current_time)`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û—á–∏—â–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –∑–∞–ø–∏—Å—ñ–≤

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. –í–∏–∑–Ω–∞—á–∞—î –ø–æ—á–∞—Ç–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞: `current_time - window_size`
2. –í–∏–¥–∞–ª—è—î –≤—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —Å—Ç–∞—Ä—ñ—à—ñ –∑–∞ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è
3. –Ø–∫—â–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–∞–ª–∏—à–∏–ª–æ—Å—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –≤–∏–¥–∞–ª—è—î –π–æ–≥–æ –∑–∞–ø–∏—Å

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(k), –¥–µ k ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

#### 2. `can_send_message(user_id)`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. –û—á–∏—â–∞—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –≤—ñ–∫–Ω—ñ
3. –ü–æ–≤–µ—Ä—Ç–∞—î True, —è–∫—â–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å < max_requests

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(k), –¥–µ k ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

#### 3. `record_message(user_id)`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ó–∞–ø–∏—Å –Ω–æ–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
2. –Ø–∫—â–æ —Ç–∞–∫ ‚Äî –¥–æ–¥–∞—î –ø–æ—Ç–æ—á–Ω–∏–π —á–∞—Å —É deque –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
3. –ü–æ–≤–µ—Ä—Ç–∞—î True (—É—Å–ø—ñ—Ö) –∞–±–æ False (–≤—ñ–¥—Ö–∏–ª–µ–Ω–æ)

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(k), –¥–µ k ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

#### 4. `time_until_next_allowed(user_id)`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —á–∞—Å—É –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. –û—á–∏—â–∞—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
2. –Ø–∫—â–æ –º–æ–∂–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞—Ä–∞–∑ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î 0
3. –Ü–Ω–∞–∫—à–µ ‚Äî –æ–±—á–∏—Å–ª—é—î —á–∞—Å –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–∞–π—Å—Ç–∞—Ä—ñ—à–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(k), –¥–µ k ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** window_size=10, max_requests=1

```
t=0.0:  User1 –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚Üí ‚úì (–ø–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)
t=0.5:  User1 –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–Ω–æ–≤—É ‚Üí √ó (–æ—á—ñ–∫—É–≤–∞–Ω–Ω—è 9.5—Å)
t=10.1: User1 –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚Üí ‚úì (–≤—ñ–∫–Ω–æ –æ—á–∏—Å—Ç–∏–ª–æ—Å—å)
```

### –ü–µ—Ä–µ–≤–∞–≥–∏ Sliding Window –ø–µ—Ä–µ–¥ Fixed Window

**Fixed Window:**

```
–í—ñ–∫–Ω–æ 1: [0-10—Å]  ‚Üí 1 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
–í—ñ–∫–Ω–æ 2: [10-20—Å] ‚Üí 1 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
–ü—Ä–æ–±–ª–µ–º–∞: –º–æ–∂–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ 2 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É (–Ω–∞ –º–µ–∂—ñ –≤—ñ–∫–æ–Ω)
```

**Sliding Window:**

```
–ë—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î –æ—Å—Ç–∞–Ω–Ω—ñ 10 —Å–µ–∫—É–Ω–¥
–ù–µ–º–æ–∂–ª–∏–≤–æ –æ–±—ñ–π—Ç–∏ –ª—ñ–º—ñ—Ç –Ω–∞ –º–µ–∂—ñ –≤—ñ–∫–æ–Ω
–¢–æ—á–Ω—ñ—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç–∏
```

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è:**

- –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è deque –¥–ª—è O(1) –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –æ–±–æ—Ö –∫—ñ–Ω—Ü—ñ–≤

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–¢–µ—Å—Ç 1:** –ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

- –ü–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: ‚úì
- –ù–∞—Å—Ç—É–ø–Ω—ñ –≤ –º–µ–∂–∞—Ö –≤—ñ–∫–Ω–∞: √ó

**–¢–µ—Å—Ç 2:** –û—á–∏—â–µ–Ω–Ω—è –≤—ñ–∫–Ω–∞

- –ü—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è window_size –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–Ω–æ–≤—É –¥–æ–∑–≤–æ–ª—è—é—Ç—å—Å—è

**–¢–µ—Å—Ç 3:** –ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

- –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –æ–∫—Ä–µ–º–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫
- –û–±–º–µ–∂–µ–Ω–Ω—è –Ω–µ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è - –í–∏–∫–æ–Ω–∞–Ω–Ω—è

‚úÖ **–†–∞–Ω–Ω—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–ª–æ–∫—É—î—Ç—å—Å—è:**

- –ü—Ä–∏ —Å–ø—Ä–æ–±—ñ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ä–∞–Ω—ñ—à–µ –Ω—ñ–∂ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è False

‚úÖ **–ü–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–≤–∂–¥–∏ –¥–æ–∑–≤–æ–ª–µ–Ω–æ:**

- –ù–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è:**

- –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –≤—Å—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –π–æ–≥–æ –∑–∞–ø–∏—Å –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è

‚úÖ **–ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è:**

- `time_until_next_allowed` –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ—Ä–µ–∫—Ç–Ω–∏–π —á–∞—Å —É —Å–µ–∫—É–Ω–¥–∞—Ö

‚úÖ **–¢–µ—Å—Ç–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–∞—Ü—é—î:**

- –ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–≥—ñ–¥–Ω–æ –∑ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è–º–∏
- –í–∏–≤–µ–¥–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —à–∞–±–ª–æ–Ω—É

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

### LRU-–∫–µ—à

**–†–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**

- –ö–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ SQL-–∑–∞–ø–∏—Ç—ñ–≤
- –ö–µ—à—É–≤–∞–Ω–Ω—è API-–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ö–µ—à—É–≤–∞–Ω–Ω—è –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- –ö–µ—à—É–≤–∞–Ω–Ω—è –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–æ–∫

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**

- –Ñ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –∑–∞–ø–∏—Ç–∏, —â–æ –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å—Å—è
- –û–±—á–∏—Å–ª–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∫–æ—à—Ç–æ–≤–Ω–µ
- –û–±–º–µ–∂–µ–Ω–∞ –ø–∞–º'—è—Ç—å –¥–ª—è –∫–µ—à—É
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –µ–≤–∞–∫—É–∞—Ü—ñ—è —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö

### Rate Limiter

**–†–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**

- –ó–∞—Ö–∏—Å—Ç API –≤—ñ–¥ DDOS-–∞—Ç–∞–∫
- –ö–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –û–±–º–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É —á–∞—Ç—ñ
- –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**

- –ü–æ—Ç—Ä—ñ–±–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç–∏ –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ù–µ–æ–±—Ö—ñ–¥–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Å–ø–∞–º—É
- –û–±–º–µ–∂–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É —Ä–µ—Å—É—Ä—Å—ñ–≤

---

## –í–∏—Å–Ω–æ–≤–∫–∏

### –ó–∞–≤–¥–∞–Ω–Ω—è 1

- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π LRU-–∫–µ—à
- ‚úÖ –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–æ–≤–∞–Ω–æ –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –≤ 3 —Ä–∞–∑–∏
- ‚úÖ –Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–µ—à—É –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í—Å—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è –≤–∏–∫–æ–Ω–∞–Ω—ñ

### –ó–∞–≤–¥–∞–Ω–Ω—è 2

- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ Sliding Window Rate Limiter
- ‚úÖ –¢–æ—á–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å–æ–≤–∏—Ö —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤
- ‚úÖ –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- ‚úÖ –í—Å—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è –≤–∏–∫–æ–Ω–∞–Ω—ñ

**–û–±–∏–¥–≤—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ! üöÄ**
